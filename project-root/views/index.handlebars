<h1>Product List</h1>
<ul id="productList">
  {{#each products}}
  <li>
    <h2>{{this.title}}</h2>
    <p>{{this.description}}</p>
    <p>Price: ${{this.price}}</p>
    <p>Stock: {{this.stock}}</p>
    <button onclick="addToCart({{this.id}})">Add to Cart</button>
  </li>
  {{/each}}
</ul>

<div class="pagination">
  {{#if hasPrevPage}}
    <a href="?page={{prevPage}}&limit={{limit}}">Previous</a>
  {{else}}
    <span>Previous</span>
  {{/if}}

  {{#if hasNextPage}}
    <a href="?page={{nextPage}}&limit={{limit}}">Next</a>
  {{else}}
    <span>Next</span>
  {{/if}}
</div>

<script>
  function addToCart(productId) {
    fetch(`/api/carts/1/products/${productId}`, {
      method: 'POST'
    })
    .then(response => response.json())
    .then(data => {
      console.log('Product added to cart:', data);
    })
    .catch(error => {
      console.error('Error adding product to cart:', error);
    });
  }
</script>